<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wave Effect</title>
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <style>
        .wave {
            position: relative;
            width: 200px;
            height: 200px;
            background-color: rgb(118, 218, 255);
            border-radius: 50%;
        }

        .wave::before,
        .wave::after{
             content: "";
             position: absolute;
             width: 400px;
             height: 400px;
             top: 0;
             left: 50%;
             background-color: rgba(255, 255, 255, .4);
             border-radius: 45%;
             transform: translate(-50%, -70%) rotate(0);
             animation: rotate 6s linear infinite;
             z-index: 10;
         }

        .wave::after {
             border-radius: 47%;
             background-color: rgba(255, 255, 255, .9);
             transform: translate(-50%, -70%) rotate(0);
             animation: rotate 10s linear -5s infinite;
             z-index: 20;
         }

        @keyframes rotate {
            50% {
                transform: translate(-50%, -73%) rotate(180deg);
            } 100% {
                  transform: translate(-50%, -70%) rotate(360deg);
              }
        }


    </style>
</head>
<body>
<h1 style="text-align: center">Create Wave effect based on Bezier curves</h1>

<h2>Generated by pure CSS:</h2>

<div class="container">
    <div class="wave"/>
</div>

<h2>Generated by SVG:</h2>
<svg width="200px" height="200px" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <text class="liquidFillGaugeText" text-anchor="middle" font-size="42px" transform="translate(100,120)" style="fill: #000">50.0%</text>
    <!-- Wave -->
    <g id="wave">
        <!--Bezier curves-->
        <path id="wave-2" fill="rgba(154, 205, 50, .8)" d="M 0 100 C 133.633 85.12 51.54 116.327 200 100 A 95 95 0 0 1 0 100 Z">
            <animate dur="5s" repeatCount="indefinite" attributeName="d" attributeType="XML" values="M0 100 C90 28, 92 179, 200 100 A95 95 0 0 1 0 100 Z;
                                    M0 100 C145 100, 41 100, 200 100 A95 95 0 0 1 0 100 Z;
                                    M0 100 C90 28, 92 179, 200 100 A95 95 0 0 1 0 100 Z"></animate>
        </path>
    </g>
    <circle cx="100" cy="100" r="80" stroke-width="10" stroke="white" fill="transparent"></circle>
    <circle cx="100" cy="100" r="90" stroke-width="20" stroke="yellowgreen" fill="none" class="percentage-pie-svg"></circle>
</svg>

<h2>Generated by Canvas:</h2>

<canvas width="200px" height="200px"></canvas>



<script>
    $(function() {
        let canvas = $("canvas");
        let ctx = canvas[0].getContext('2d');
        let radians = (Math.PI / 180) * 180;
        let startTime = Date.now();
        let time = 2000;
        let clockwise = 1;
        let cp1x, cp1y, cp2x, cp2y;

        // initialize the first frame
//         ctx.bezierCurveTo(90, 28, 92, 179, 200, 100);
        // finalize the last frame
//         ctx.bezierCurveTo(145, 100, 41, 100, 200, 100);

        requestAnimationFrame(function waveDraw() {
            let t = Math.min(1.0, (Date.now() - startTime) / time);

            if(clockwise) {
                cp1x = 90 + (55 * t);
                cp1y = 28 + (72 * t);
                cp2x = 92 - (51 * t);
                cp2y = 179 - (79 * t);
            } else {
                cp1x = 145 - (55 * t);
                cp1y = 100 - (72 * t);
                cp2x = 41 + (51 * t);
                cp2y = 100 + (79 * t);
            }

            ctx.clearRect(0, 0, 200, 200);
            ctx.beginPath();
            ctx.moveTo(0, 100);
            // draw Bezier curves
            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, 200, 100);
            // draw ellipse
            ctx.arc(100, 100, 100, 0, radians, 0);
            ctx.fillStyle = "rgba(154, 205, 50, .8)";
            ctx.fill();
            ctx.save();

            if( t == 1 ) {
                startTime = Date.now();
                clockwise = !clockwise;
            }

            requestAnimationFrame(waveDraw);
        });
    })
</script>
</body>
</html>